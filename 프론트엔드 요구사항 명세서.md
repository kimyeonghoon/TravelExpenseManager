# 요구사항 명세서
## 프로젝트명: 일본 여행 지출 기록 웹 프로그램 (React 프론트엔드)

***

## 1. 개요
- 사용자들이 일본 여행 중 발생하는 지출 내역을 등록, 조회, 수정, 삭제할 수 있는 웹 애플리케이션
- 로그인 기능을 통해 사용자별 개인 데이터 관리 지원
- 로그인 전에는 모두가 볼 수 있는 공개 지출 내역 표 제공
- React 기반 SPA 환경에서 동작

***

## 2. 기능 요구사항

### 2.1 공개 지출 내역 조회
- 모든 방문자가 접속 시 볼 수 있는 일본 여행 지출 내역 목록 제공
- 데이터는 날짜 기준 오름차순 정렬
- 삭제(논리 삭제) 된 항목은 목록에서 숨김 처리

### 2.2 로그인 기능
- 우측 상단 로그인 버튼 제공
- 로그인 버튼 클릭 시 모달 창 오픈
- 이메일 입력 화면 → 인증 코드 입력 화면으로 단계별 진행
- 이메일 유효성 검사 및 인증 코드 발송 API 연동
- 인증 코드 검증 시 정확하면 로그인 처리, 실패하면 메시지 표시 및 재입력 유도
- 로그인 후 모달 자동 종료, 사용자 정보(닉네임, 로그아웃 버튼 등) 표시

### 2.3 사용자별 지출 내역 관리
- 로그인한 사용자만 자신의 지출 내역 등록, 수정, 삭제 가능
- 지출 내역 입력 시 필수 입력값 검증
- 날짜는 "YY-MM-DD HH:MM" 형식으로 입력, 입력 편의를 위한 날짜시간 선택기 적용
- 항목(숙박, 교통, 식비, 입장료, 쇼핑, 기타), 결제 방식(신용카드, 현금, 온라인결제 등)은 드롭다운 선택
- 금액은 숫자 입력만 허용, 비고는 선택 입력 가능 텍스트

### 2.4 지출 내역 목록 조회 및 정렬
- 사용자 개인 지출 내역 목록을 날짜 및 시간 기준 오름차순 정렬하여 표시
- 삭제는 논리 삭제 처리 (is_deleted 플래그), 뷰에서 숨김
- 각 항목에 수정 및 삭제 버튼 포함

### 2.5 지출 내역 수정 기능
- 인라인 편집 형태로 같은 페이지에서 수정 가능
- 수정 완료 시 AJAX 비동기 요청으로 서버 반영
- 저장 및 취소 기능 제공
- 유효성 검사 및 오류 처리

### 2.6 지출 내역 삭제 기능
- 논리 삭제 방식 적용
- 삭제 전 사용자 확인 팝업 표시
- 삭제 시 is_deleted 상태 값 변경, 목록에서 숨김 처리

***

## 3. UI/UX 요구사항
- 반응형 웹 디자인 적용, 모바일 및 데스크톱 환경 모두 최적화
- 로그인과 인증 과정은 모달 창에서 단계별 자연스럽게 진행
- 입력 및 수정 시 실시간 유효성 검사 및 사용자 알림 메시지 제공
- 편리하고 직관적인 인터페이스 구성
- 상태 변화에 따른 즉각적 화면 업데이트

***

## 4. 기술 스택 및 개발 환경
- React 최신 버전 기반 SPA 개발
- 상태 관리: React 내장 useState/useContext 또는 Redux
- HTTP 통신: Axios 또는 Fetch API 사용
- 스타일링: CSS 모듈 또는 styled-components
- 날짜 입력: react-datepicker 등 날짜시간 선택 라이브러리 사용
- 인증: 이메일 기반 인증코드 로그인 방식, JWT or 세션 토큰 유지
- 모달 UI: React Modal 라이브러리 또는 커스텀 컴포넌트

***

## 5. 보안 및 성능 요구사항
- SSL 적용 등 HTTPS 보안 환경 보장
- 인증 토큰은 보안 저장소에 안전하게 보관 (예: HttpOnly 쿠키)
- 입력 데이터 검증 및 서버 단 검증 이중 적용
- 인증되지 않은 사용자 접근 제한 및 리다이렉션 처리

***

## 6. 기타
- 추후 기능 확장 가능성 고려하여 컴포넌트 모듈화 설계 권장
- 데이터 변경(입력, 수정, 삭제)에 대한 이력 관리 및 로그 기록 고려 (추가 개발 사항)
- API 명세서와 프론트엔드 인터랙션 정의는 별도 문서로 병행 작성

***

## 7. 전체 디렉터리 구조

```
/project-root
  ├── backend/               # FastAPI 백엔드 소스코드
  │     ├── app/
  │     │   ├── main.py                 # FastAPI 앱 진입점
  │     │   ├── routers/                # API 라우터 별 분리
  │     │   ├── models/                 # DB 모델 정의(SQLAlchemy 등)
  │     │   ├── schemas/                # Pydantic 데이터 검증 스키마
  │     │   ├── crud/                   # DB CRUD 로직 분리
  │     │   ├── services/               # 비즈니스 로직 구현
  │     │   ├── core/                   # 설정 및 환경변수 관리
  │     │   └── __init__.py
  │     ├── requirements.txt            # Python 의존성 목록
  │     ├── .env                        # 환경 변수 파일(비공개)
  │     └── Dockerfile                  # (선택) 컨테이너 이미지용
  │
  ├── frontend/              # React 프론트엔드 소스코드
  │     ├── public/
  │     ├── src/
  │     │   ├── components/             # 재사용 컴포넌트
  │     │   ├── pages/                  # 주요 페이지 컴포넌트
  │     │   ├── hooks/                  # 커스텀 훅
  │     │   ├── services/               # API 호출 및 비즈니스 함수
  │     │   ├── App.js                  # React 앱 진입점
  │     │   └── index.js
  │     ├── package.json                # Nodejs 의존성 목록
  │     └── README.md
  │
  ├── .gitignore
  ├── README.md
  └── docker-compose.yml                  # (선택) 전체 서비스 컨테이너 동시 실행
```

***

## 8. 프론트엔드 개발 단계별 계획

### Phase 1: 프로젝트 기반 설정 및 기본 구조 (1-2일)
1. **개발 환경 설정**
   - React 프로젝트 초기화 및 의존성 설치
   - Tailwind CSS 설정 및 기본 스타일 적용
   - Vite 개발 서버 설정 및 프록시 구성
   - ESLint, Prettier 등 코드 품질 도구 설정

2. **기본 컴포넌트 구조 설계**
   - 레이아웃 컴포넌트 (Header, Footer, Layout)
   - 공통 UI 컴포넌트 (Button, Input, Modal, Table)
   - 페이지 라우팅 구조 설계

### Phase 2: 공개 지출 내역 조회 기능 (2-3일)
1. **공개 지출 목록 페이지 구현**
   - 지출 내역 테이블 컴포넌트 개발
   - 날짜별 정렬 기능 구현
   - 반응형 테이블 디자인 (모바일/데스크톱)
   - 데이터 로딩 상태 및 에러 처리

2. **API 연동 및 데이터 관리**
   - 공개 지출 내역 조회 API 연동
   - 데이터 상태 관리 (useState/useContext)
   - 에러 핸들링 및 사용자 피드백

### Phase 3: 인증 시스템 구현 (3-4일)
1. **로그인 모달 컴포넌트 개발**
   - 2단계 인증 UI (이메일 입력 → 인증코드 입력)
   - 모달 상태 관리 및 애니메이션
   - 입력 유효성 검사 및 실시간 피드백

2. **인증 로직 구현**
   - 이메일 인증 코드 발송 API 연동
   - 인증 코드 검증 및 JWT 토큰 관리
   - 인증 상태 전역 관리 (Context API)
   - 로그인/로그아웃 플로우 완성

### Phase 4: 사용자별 지출 관리 기능 (4-5일)
1. **지출 내역 등록 기능**
   - 지출 입력 폼 컴포넌트 개발
   - 날짜시간 선택기 (react-datepicker) 연동
   - 카테고리 및 결제방식 드롭다운 구현
   - 폼 유효성 검사 및 제출 처리

2. **지출 내역 목록 및 관리**
   - 개인 지출 내역 테이블 구현
   - 날짜/시간 기준 정렬 기능
   - 수정/삭제 버튼 및 액션 처리

### Phase 5: 인라인 편집 및 삭제 기능 (3-4일)
1. **인라인 편집 시스템**
   - 테이블 행 편집 모드 전환
   - 실시간 데이터 수정 및 검증
   - 저장/취소 기능 구현
   - 편집 상태 관리 및 UI 피드백

2. **논리 삭제 기능**
   - 삭제 확인 모달 구현
   - 논리 삭제 처리 및 목록에서 숨김
   - 삭제 후 상태 업데이트

### Phase 6: UI/UX 개선 및 최적화 (2-3일)
1. **사용자 경험 개선**
   - 로딩 스피너 및 스켈레톤 UI
   - 토스트 메시지 및 알림 시스템
   - 키보드 단축키 및 접근성 개선
   - 모바일 터치 제스처 지원

2. **성능 최적화**
   - 컴포넌트 메모이제이션 (React.memo, useMemo)
   - 가상 스크롤링 (대용량 데이터 처리)
   - 이미지 최적화 및 레이지 로딩
   - 번들 크기 최적화

### Phase 7: 테스트 및 배포 준비 (2-3일)
1. **테스트 구현**
   - 단위 테스트 (Jest + React Testing Library)
   - 통합 테스트 (API 연동 테스트)
   - 사용자 시나리오 테스트
   - 크로스 브라우저 호환성 검증

2. **배포 준비**
   - 프로덕션 빌드 최적화
   - 환경별 설정 분리
   - CI/CD 파이프라인 구성
   - 성능 모니터링 도구 연동

### 개발 우선순위 및 의존성
- **Phase 1-2**: 기본 기능 구현으로 프로토타입 완성
- **Phase 3**: 인증 시스템으로 보안 기능 확보
- **Phase 4-5**: 핵심 비즈니스 로직 구현
- **Phase 6-7**: 품질 향상 및 프로덕션 준비

### 예상 개발 기간
- **총 개발 기간**: 17-24일 (약 3-4주)
- **핵심 기능 완성**: 12-15일 (Phase 1-5)
- **품질 개선 및 테스트**: 5-9일 (Phase 6-7)

### 기술적 고려사항
- **상태 관리**: Context API 또는 Redux 선택 (복잡도에 따라)
- **폼 관리**: React Hook Form 또는 Formik 활용
- **API 통신**: Axios 인터셉터로 토큰 자동 갱신
- **에러 바운더리**: React Error Boundary로 앱 안정성 확보
- **코드 분할**: React.lazy와 Suspense로 번들 최적화

### 개발 체크리스트
- [ ] 개발 환경 설정 완료
- [ ] 기본 컴포넌트 구조 설계
- [ ] 공개 지출 내역 조회 기능 구현
- [ ] 인증 시스템 구현
- [ ] 지출 내역 등록 기능 구현
- [ ] 지출 내역 수정 기능 구현
- [ ] 지출 내역 삭제 기능 구현
- [ ] UI/UX 개선 및 최적화
- [ ] 테스트 코드 작성
- [ ] 배포 준비 완료
